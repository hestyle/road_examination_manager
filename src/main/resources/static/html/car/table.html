<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>车辆列表</title>
    <link rel="stylesheet" href="../../layui/css/layui.css">
    <link rel="stylesheet" href="../../css/style.css">
</head>
<body>
<div>
    <table id="carlisttable" lay-filter="carlisttable"></table>
</div>

</body>

</html>

<script type="text/html" id="barCar">
    <a class="layui-btn layui-btn-xs" lay-event="modify">更改</a>
    <a class="layui-btn layui-btn-xs" lay-event="save">保存</a>
    <a class="layui-btn layui-btn-xs" lay-event="delete">删除</a>
</script>

<script src="../../js/jquery.min.js"></script>
<script src="../../layui/layui.all.js"></script>
<script>
    layui.use('table', function() {
        var table = layui.table;
        table.render({
            elem: '#carlisttable' //指定原始表格元素选择器（推荐id选择器）
            // , height: 315 //容器高度
            , url: '/road_examination_manager/car/findByPage.do'
            , method: 'POST'
            ,toolbar: true
            , cols: [[ //标题栏
                {title: '考试用车列表',align: 'center', colspan: 8} //rowspan即纵向跨越的单元格数
            ], [
                {field: 'id', title: '车辆ID', sort: true}
                ,{field: 'ipAddress', title: 'IP地址'}
                ,{field: 'macAddress', title: 'MAC地址'}
                ,{field: 'type', title: '类型'}
                ,{field: 'description', title: '描述'}
                ,{field: 'isDel',hide: true}
                ,{toolbar: '#barCar', title: '操作', colspan: 2}
            ]]
            ,page:true
            ,request: {
                pageName: 'pageIndex' //页码的参数名称，默认：page
                ,limitName: 'pageSize' //每页数据量的参数名，默认：limit
            }
            ,parseData:function(res){
                console.log(res);
                return {
                    "status": res.code,
                    "data" : res.data, //解析数据列表
                    "message": res.message,
                    "count": res.count
                }
            }
            ,response: {
                statusName: 'status' //规定数据状态的字段名称，默认：code
                ,statusCode: 200 //规定成功的状态码，默认：0
                ,msgName: 'message' //规定状态信息的字段名称，默认：msg
                ,countName: 'count' //规定数据总数的字段名称，默认：count
                ,dataName: 'data' //规定数据列表的字段名称，默认：data
            }
            ,done: function(res, curr, count){
                //如果是异步请求数据方式，res即为你接口返回的信息。
                //如果是直接赋值的方式，res即为：{data: [], count: 99} data为当前页数据、count为数据总长度
                console.log(res);
            }
    });
    });
</script>
